
module a_Lights
 external 
 	Button: (0..1) ;
	Tmp: (0..1) 
 interface 
 	CarSignal: (0..1) ;
	PedestrianSignal: (0..1) 
 
 atom 
   controls  PedestrianSignal 
   awaits  CarSignal 
     init update 
 	 []  CarSignal' = 1  -> PedestrianSignal':= 0  
 	 []  CarSignal' = 0  -> PedestrianSignal':=1  
 endatom 
 atom 
   controls  CarSignal 
   reads  Tmp 
     init 
 	 []  true  -> CarSignal':=1  
 	 []  true  -> CarSignal':= 0  
     update 
 	 []  true ->  CarSignal':=Tmp 
 endatom 
 endmodule
 
module a_ControlLogic
 external 
 	PresentSignal: (0..1) ;
	Button: (0..1) 
 interface 
 	NextSignal: (0..1) 
 
 atom 
   controls  NextSignal 
   awaits  PresentSignal , Button 
     init update 
 	 []  PresentSignal' = 1  & Button' = 1  -> NextSignal':= 0  
 	 [] default -> NextSignal':=1  
 endatom 
 endmodule
 
 -- Generated by mv2rm DONOT edit
 -- Report bugs to <vaibhav@cse.ucsc.edu>
 ControlLogic:= a_ControlLogic 
 b_Lights:= a_Lights 
 ||  ControlLogic [ PresentSignal , Button , NextSignal := CarSignal , Button , Tmp  ]
 
 Lights := hide  Tmp  in b_Lights endhide
 